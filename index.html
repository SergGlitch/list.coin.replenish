<!DOCTYPE html>  
<html lang="ru">  
<head>      
    <meta charset="UTF-8">      
    <meta name="viewport" content="width=device-width, initial-scale=1.0">      
    <title>Listcoin</title>      
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">      
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">      
    <style>          
        body {              
            background-color: #f5f5f5;              
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;          
        }          
        .container {              
            margin-top: 50px;              
            max-width: 800px;          
        }          
        .logo {              
            font-size: 48px;              
            font-weight: bold;              
            color: #00698f;          
        }          
        .button-group {              
            margin-top: 20px;          
        }          
        .button-group button {              
            width: 150px;              
            height: 80px;              
            font-size: 16px;              
            border-radius: 10px;              
            margin: 10px;          
        }          
        .progress-table {              
            margin-top: 40px;              
            background-color: #ffffff;              
            border-radius: 10px;              
            padding: 20px;              
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);          
        }          
        .progress-table th, .progress-table td {              
            padding: 10px;              
            border-bottom: 1px solid #ddd;          
        }          
        .modal-dialog {              
            margin-top: 200px;          
        }          
        .modal-content {              
            background-color: #ffffff;              
            border-radius: 10px;              
            padding: 20px;              
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);          
        }          
        .modal-header {              
            border-bottom: 1px solid #ddd;        
        }          
        .modal-body {              
            padding: 20px;          
        }          
        .modal-footer {              
            border-top: 1px solid #ddd;          
        }          
        .progress-bar-container {              
            width: 50%;              
            height: 10px;              
            background-color: #ddd;              
            border-radius: 10px;              
            position: relative;              
            margin: 20px auto;          
        }          
        .progress-bar {              
            height: 10px;              
            background-color: #00698f;              
            border-radius: 10px;              
            position: absolute;              
            left: 0;              
            transition: width 0.5s;          
        }      
    </style>  
</head>  
<body>      
    <div class="container text-center">          
        <img src="./img/Untitled1.png" alt="Логотип" width="65px">          
        <h1 class="logo">Listcoin</h1>          
        <p id="click-count" class="fs-5">Кликов: 0</p>          
        <div class="progress-bar-container">              
            <div class="progress-bar" style="width: 0px;"></div>          
        </div>          
        <div class="button-group d-flex justify-content-center">              
            <button class="btn btn-primary" id="click-btn"><i class="bi bi-hand-index-thumb"></i> click</button>              
            <button class="btn btn-secondary" id="exchange-btn" data-bs-toggle="modal" data-bs-target="#exchange-modal"><i class="bi bi-currency-exchange"></i> Обменять</button>              
            <button class="btn btn-success" id="withdraw-btn" data-bs-toggle="modal" data-bs-target="#withdraw-modal"><i class="bi bi-wallet2"></i> Вывести</button>          
        </div>          
        <table class="table progress-table">              
            <thead>                  
                <tr>                      
                    <th>Диапазон кликов</th>                      
                    <th>Листочков за обмен</th>                  
                </tr>              
            </thead>              
            <tbody id="progress-body">                  
                <tr>                      
                    <td>10 кликов</td>                      
                    <td>0.5 листочков</td>                  
                </tr>                  
                <tr>                      
                    <td>50 кликов</td>                      
                    <td>2.5 листочков</td>                  
                </tr>                  
                <tr>                      
                    <td>100 кликов</td>                      
                    <td>5 листочков</td>                  
                </tr>              
            </tbody>          
        </table>          
        <p id="leaves-count" class="fs-5">Листочков: 0</p>      
    </div>      
    <div class="modal fade" id="exchange-modal" tabindex="-1" aria-hidden="true">          
        <div class="modal-dialog modal-dialog-centered">              
            <div class="modal-content">                  
                <div class="modal-header">                      
                    <h5 class="modal-title">Подтверждение обмена</h5>                      
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                  
                </div>                  
                <div class="modal-body" id="exchange-modal-body">                  
                </div>                  
                <div class="modal-footer">                      
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>                      
                    <button type="button" class="btn btn-primary" id="confirm-exchange">Да, обменять</button>                  
                </div>              
            </div>          
        </div>      
    </div>      
    <div class="modal fade" id="withdraw-modal" tabindex="-1" aria-hidden="true">          
        <div class="modal-dialog modal-dialog-centered">              
            <div class="modal-content">                  
                <div class="modal-header">                      
                    <h5 class="modal-title">Подтверждение вывода</h5>                      
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                  
                </div>                  
                <div class="modal-body" id="withdraw-modal-body">                      
                    Вы уверены, что хотите вывести листочки?                  
                </div>                  
                <div class="modal-footer">                      
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>                      
                    <button type="button" class="btn btn-primary" id="confirm-withdraw">Да, вывести</button>                  
                </div>              
            </div>          
        </div>      
    </div>      
    <div class="modal fade" id="success-modal" tabindex="-1" aria-hidden="true">          
        <div class="modal-dialog modal-dialog-centered">              
            <div class="modal-content">                  
                <div class="modal-header">                      
                    <h5 class="modal-title">Успешно!</h5>                      
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                  
                </div>                  
                <div class="modal-body">                      
                    Ваша заявка на пополнение счёта будет рассмотрена в ближайшее время.                  
                </div>                  
                <div class="modal-footer">                      
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Закрыть</button>                  
                </div>              
            </div>          
        </div>      
    </div>      
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>      
    <script>          
        let clickCount = 0;          
        let leavesCount = parseInt(localStorage.getItem('leavesCount')) || 0;          
        let maxProgress = 100;          
        let currentProgress = 0;          
        const clickButton = document.getElementById('click-btn');          
        const exchangeButton = document.getElementById('exchange-btn');          
        const confirmExchangeButton = document.getElementById('confirm-exchange');          
        const withdrawButton = document.getElementById('withdraw-btn');          
        const confirmWithdrawButton = document.getElementById('confirm-withdraw');          
        const clickCountElement = document.getElementById('click-count');          
        const leavesCountElement = document.getElementById('leaves-count');          
        const exchangeModalBody = document.getElementById('exchange-modal-body');          
        const progressBar = document.querySelector('.progress-bar');          
        const successModal = new bootstrap.Modal(document.getElementById('success-modal'));          
          
        clickCountElement.textContent = `Кликов: ${clickCount}`;          
        leavesCountElement.textContent = `Листочков: ${leavesCount}`;          
          
        clickButton.addEventListener('click', () => {              
            clickCount++;              
            clickCountElement.textContent = `Кликов: ${clickCount}`;              
            const newProgress = (clickCount / 10) * 100;              
            if (newProgress <= maxProgress) {                  
                currentProgress = newProgress;                  
                progressBar.style.width = `${currentProgress}%`;              
            }              
            if (clickCount >= 10) {                  
                exchangeButton.disabled = false;              
            } else {                  
                exchangeButton.disabled = true;              
            }          
        });          
          
        exchangeButton.addEventListener('click', () => {              
            let exchangedLeaves = (clickCount / 10) * 0.5;              
            exchangeModalBody.textContent = `Вы уверены, что хотите обменять ${clickCount} кликов на ${exchangedLeaves} листочков?`;          
        });          
          
        confirmExchangeButton.addEventListener('click', () => {              
            if (clickCount >= 10) {                  
                let exchangedLeaves = (clickCount / 10) * 0.5;                  
                leavesCount += exchangedLeaves;                  
                clickCount = 0;                  
                clickCountElement.textContent = `Кликов: ${clickCount}`;                  
                leavesCountElement.textContent = `Листочков: ${leavesCount}`;                  
                exchangeButton.disabled = true;                  
                currentProgress = 0;                  
                progressBar.style.width = '0%';                  
                localStorage.setItem('leavesCount', leavesCount);                  
                checkLeavesCount();              
            }              
            const modal = bootstrap.Modal.getInstance(document.getElementById('exchange-modal'));              
            modal.hide();          
        });          
          
        withdrawButton.addEventListener('click', () => {              
            if (leavesCount === 0) {                  
                //alert('У вас нет листочков для вывода');                  
                return;              
            }          
        });          
          
        confirmWithdrawButton.addEventListener('click', () => {              
            const withdrawModal = bootstrap.Modal.getInstance(document.getElementById('withdraw-modal'));              
            withdrawModal.hide();              
            successModal.show();              
            leavesCount = 0;              
            leavesCountElement.textContent = `Листочков: ${leavesCount}`;              
            localStorage.setItem('leavesCount', leavesCount);              
            checkLeavesCount();          
        });          
          
        function checkLeavesCount() {              
            if (leavesCount === 0) {                  
                withdrawButton.disabled = true;              
            } else {                  
                withdrawButton.disabled = false;              
            }          
        }          
          
        exchangeButton.disabled = clickCount < 10;          
        checkLeavesCount();      
    </script>  
</body>  
</html>